<div class="flex flex-col items-center pt-4">
  <div class="max-w-md">
    <div class="p-1 my-4">
    <h1 class="font-bold">Edit time entry:</h1>

    <div class="p-1 my-4" data-controller="time-tasks">
      <%= form_with(model: @time_reg) do |form| %>
        <div class="field my-4 w-80">
          <%= form.label :project_id %>       
          <%= form.collection_select :project_id, @projects , :id, :name, { selected: @time_reg.project.id }, { class: 'w-full', id: 'timeproject-select' } %>
          <% @time_reg.errors.full_messages_for(:project_id).each do |message| %>
            <div class="text-sm italic text-gray-600"><%= message %></div>
          <% end %>
        </div>

        <div class="field my-4 w-80">
          <%= form.label :assigned_task_id %>
          <%= form.collection_select :assigned_task_id, @assigned_tasks, :last, :first, {}, {class: 'w-full', id: 'timetask-select'}  %>
          <% @time_reg.errors.full_messages_for(:assigned_task_id).each do |message| %>
            <div class="text-sm italic text-gray-600"><%= message %></div>
          <% end %>
        </div>
        <div class="field my-4">
          <%= form.label :notes %>       
          <% @time_reg.errors.full_messages_for(:notes).each do |message| %>
            <div class="text-sm italic text-gray-600"><%= message %></div>
          <% end %>
          <br>
          <%= form.text_area :notes, class: 'w-full' %>
        </div>

        <div class="field my-45">
          <%= form.label :minutes %>
          <% @time_reg.errors.full_messages_for(:minutes).each do |message| %>
            <div class="text-sm	italic text-gray-600"><%= message %></div>
          <% end %>
          <br>  
          <%= form.number_field :minutes, class: 'w-full'  %>
        </div>

        <div class="field my-4">
          <%= form.label :date_worked %>
          <br>
            <div class="flex justify-between">
              <%= form.date_select :date_worked, {end_year: Date.today.year}, class: "w-24" %>
            </div>
        </div>

        <div class="actions text-center">
          <%= form.submit class: 'rounded bg-blue-200 p-2 m-2 hover:bg-blue-300 shadow' %>
          <%= link_to 'Cancel', :back, class: "rounded bg-gray-200 p-2 m-2 hover:bg-gray-300 shadow mt-6" %>
        </div>   
      <% end %> 
    </div>

    </div>

    <div class="text-center p-1 m-1">
      <%= 
        link_to "Delete time entry ", time_reg_path(@time_reg), 
          class: 'rounded bg-red-400 p-2 hover:bg-red-500', 
          data:{
            turbo_method: :delete,
            turbo_confirm: "Are you sure?"
          }
      %>        
    </div>
  </div>
</div>

